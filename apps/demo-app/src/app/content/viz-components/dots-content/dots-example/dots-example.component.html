<div class="dots-example" *ngIf="vm$ | async as vm">
  <vic-xy-chart
    class="xy-chart"
    [margin]="margin"
    [height]="800"
    [scaleChartWithContainerWidth]="{ width: true, height: false }"
  >
    <ng-container svg-elements>
      <svg:g vic-xy-background></svg:g>
      <svg:g vic-x-quantitative-axis [config]="vm.xAxisConfig" />
      <svg:g vic-y-quantitative-axis [config]="vm.yAxisConfig" />
      <svg:g
        vic-primary-marks-dots
        [config]="vm.dataConfig"
        [vicDotsHoverMoveActions]="hoverActions"
        (vicDotsHoverMoveOutput)="updateTooltipForNewOutput($event)"
      >
        <vic-html-tooltip
          [config]="tooltipConfig$ | async"
          [template]="htmlTooltip"
        ></vic-html-tooltip>
      </svg:g>
    </ng-container>
  </vic-xy-chart>
</div>

<ng-template #htmlTooltip>
  @if (tooltipData$ | async; as tooltipData) {
    <div
      [style.--color]="tooltipData.color"
      class="dots-example-tooltip-container"
    >
      <p class="tooltip-label category">
        {{ tooltipData.values.fill }}
      </p>
      <div class="values-container">
        <p class="tooltip-label x">
          <span class="value-label">Max Temperature</span>
          {{ tooltipData.values.x }}
        </p>
        <p class="tooltip-label y">
          <span class="value-label">Precipitation</span>
          {{ tooltipData.values.y }}
        </p>
        <p class="tooltip-label radius">
          <span class="value-label">Wind</span>
          {{ tooltipData.values.radius }}
        </p>
      </div>
    </div>
  }
</ng-template>
