@if (columns$ | async; as columns) {
  <table cdk-table [dataSource]="dataSource">
    @for (name of ColumnNames | keyvalue; track name.key) {
      <ng-container [cdkColumnDef]="name.value">
        <th
          cdk-header-cell
          *cdkHeaderCellDef
          (click)="dataSource.handleSort(name.value)"
        >
          {{ name.value }}
        </th>
        <td cdk-cell *cdkCellDef="let element"> {{ element[name.key] }} </td>
      </ng-container>
    }

    <tr cdk-header-row *cdkHeaderRowDef="columnIds"></tr>
    <tr cdk-row *cdkRowDef="let row; columns: columnIds"></tr>
  </table>
}
