<app-component-demo>
  <span title>Lines</span>
  <ng-container demo *ngIf="vm$ | async as vm; else loading">
    <span
      class="line-label"
      *ngFor="let label of vm.labels"
      (mouseenter)="highlightLine(label)"
      (mouseleave)="highlightLine(null)"
      >{{ label }}</span
    >
    <vzc-xy-chart [margin]="margin" #tooltipOrigin>
      <ng-container svg-elements>
        <svg:g vzc-xy-background #tooltipOrigin></svg:g>
        <svg:g
          vzc-x-quantitative-axis
          [config]="vm.xAxisConfig"
          side="bottom"
        ></svg:g>
        <svg:g
          vzc-y-quantitative-axis
          [config]="vm.yAxisConfig"
          side="left"
        ></svg:g>
        <svg:g
          vzc-data-marks-lines
          [config]="vm.dataConfig"
          [vzcLinesHoverAndMoveEffects]="vm.hoverEffects"
          (hoverAndMoveData)="processHoverData($event)"
          [vzcLinesInputEffects]="[highlightLineForLabelEffect]"
          [inputEvent$]="chartInputEvent$"
        >
          <vzc-html-tooltip
            [showTooltip]="(tooltipConfig$ | async).show"
            [position]="(tooltipConfig$ | async).position"
            [template]="htmlTooltip"
          ></vzc-html-tooltip>
        </svg:g>
      </ng-container>
    </vzc-xy-chart>
  </ng-container>
  <ng-template #loading>Loading...</ng-template>
</app-component-demo>

<ng-template #htmlTooltip>
  <div
    [style.--color]="(tooltipConfig$ | async).color"
    class="tooltip-container"
  >
    <p class="tooltip-label category">
      {{ (tooltipConfig$ | async).category }}
    </p>
    <div class="values-container">
      <p class="tooltip-label x">
        <span class="value-label">Date</span>
        {{ (tooltipConfig$ | async).x }}
      </p>
      <p class="tooltip-label y">
        <span class="value-label">Value</span>
        {{ (tooltipConfig$ | async).y }}
      </p>
    </div>
  </div>
</ng-template>
